{% load static %}

<nav class="navbar navbar-expand-lg navbar-light fixed-top bg-white shadow-sm">
  <div class="container-fluid">

    <!-- BRAND -->
    <a class="navbar-brand brand-text" href="{% url 'home' %}">
      <span class="brand-g">G</span>
      <span class="brand-name">MENSWEAR</span>
    </a>

    <!-- MOBILE ICONS -->
    <div class="d-flex align-items-center gap-3 d-lg-none">
      <a href="#" class="icon-btn">
        <i class="bi bi-person"></i>
      </a>

      <a href="{% url 'cart' %}" class="icon-btn position-relative">
        <i class="bi bi-cart"></i>
        {% if cart_count > 0 %}
          <span class="cart-badge">{{ cart_count }}</span>
        {% endif %}
      </a>

      <button class="navbar-toggler border-0" type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasNavbar">
        <i class="bi bi-list fs-2"></i>
      </button>
    </div>

    <!-- DESKTOP MENU -->
    <div class="collapse navbar-collapse d-none d-lg-flex">
      <ul class="navbar-nav mx-auto">

        <li class="nav-item">
          <a class="nav-link" href="{% url 'home' %}">Home</a>
        </li>

        {% for cat in menu_categories %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'category_products' cat.slug %}">
            {{ cat.category_name }}
          </a>
        </li>
        {% endfor %}

      </ul>

      <!-- RIGHT SIDE -->
      <div class="d-flex align-items-center gap-4">
        <a href="{% url 'cart' %}" class="icon-btn position-relative">
          <i class="bi bi-cart"></i>
          {% if cart_count > 0 %}
            <span class="cart-badge">{{ cart_count }}</span>
          {% endif %}
        </a>

        <a href="#" class="login-button">Login</a>
      </div>
    </div>
  </div>
</nav>

<!-- OFFCANVAS MOBILE MENU -->
<div class="offcanvas offcanvas-end" id="offcanvasNavbar">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">G Menswear</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>

  <div class="offcanvas-body text-center">
    <ul class="navbar-nav mb-4">

      <li class="nav-item">
        <a class="nav-link" href="{% url 'home' %}">Home</a>
      </li>

      {% for cat in menu_categories %}
      <li class="nav-item">
        <a class="nav-link" href="{% url 'category_products' cat.slug %}">
          {{ cat.category_name }}
        </a>
      </li>
      {% endfor %}

    </ul>
  </div>
</div>
